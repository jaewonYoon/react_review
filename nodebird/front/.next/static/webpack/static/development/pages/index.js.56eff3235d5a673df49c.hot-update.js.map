{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.56eff3235d5a673df49c.hot-update.js","sources":["webpack:///./components/PostForm.jsx"],"sourcesContent":["import React,{useCallback,useState,useEffect} from 'react';\r\nimport {Form, Input, Button} from 'antd';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { ADD_POST_REQUEST } from '../reducers/post';\r\nconst PostForm = () => {\r\n    const dispatch = useDispatch();\r\n    const [text,setText] = useState('');\r\n    const {imagePaths, isAddingPost, postAdded} = useSelector( (state) => state.post); \r\n    \r\n    useEffect( () => {\r\n        setText('');\r\n    },[postAdded===true]);\r\n    const onSubmitForm = useCallback((e) => {\r\n        e.preventDefault(); \r\n        if(!text || !text.trim()){\r\n            alert('게시글을 작성하세요.')\r\n        }\r\n        dispatch({\r\n            type: ADD_POST_REQUEST,\r\n            data: {\r\n                content: text.trim(), \r\n            }\r\n        })\r\n    },[text]);\r\n    const onChangeText = useCallback((e) => {\r\n        setText(e.target.value);\r\n    });\r\n    return (\r\n    <Form style={{margin: '10px 0 20px'}} encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n                    <Input.TextArea maxLength={140} placeholder=\"어떤 신기한 일이 있었나요?\" onChange = {onChangeText}/>    \r\n                    <div>\r\n                        <input type=\"file\" multiple hidden />\r\n                        <Button> 이미지 업로드</Button>\r\n                        <Button type=\"primary\" style={{float:'right'}} htmlType=\"submit\" loading={isAddingPost}>짹쨱</Button>\r\n                    </div>\r\n                    <div>\r\n                        {imagePaths.map( (v,i) => {\r\n                            return (\r\n                                <div key={v} style={{display: 'inline-block'}}>\r\n                                    <img src={'http://localhost:3000/' + v} style={{width:'200px'}} alt={v} />\r\n                                    <div>\r\n                                        <Button>제거</Button>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div> \r\n                </Form>\r\n    )\r\n}\r\n\r\nexport default PostForm;"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAHA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAIA;AACA;AACA;;;;A","sourceRoot":""}